#+TITLE:
#+AUTHOR: 
#+EMAIL: 
#+LANGUAGE: en
#+OPTIONS: toc:nil ':t H:5
#+STARTUP: hidestars overview
#+LaTeX_CLASS: scrartcl
#+LaTeX_CLASS_OPTIONS: [a4paper,11pt]

* Analysis
** Preparation

Download and extract [[https://www.mediawiki.org/wiki/Manual:Pywikibot/en][Pywikibot]], a Python library for interacting with Wikipedia:

#+BEGIN_SRC sh
  wget https://tools.wmflabs.org/pywikibot/core_stable.tar.gz
  tar xzf core_stable.tar.gz
#+END_SRC

** "Theodor Fontane" articles in different language versions

#+BEGIN_SRC sh
  python3 core_stable/pwb.py wiki.py --languages "Theodor Fontane" > fontane_interwiki.tsv
#+END_SRC

Plot some of the columns:

#+BEGIN_SRC gnuplot :results silent
reset
set datafile separator "\t"

set grid
set boxwidth 0.5
set style fill solid
set xtics rotate by 45 right

set term png enhanced size 800,600 font "Arial,12" lw 2

set title '(wiki markup) text length'
set out "fontane_interwiki_textlen.png"
plot 'fontane_interwiki.tsv' using :2:xtic(1) title '' with boxes

set title 'number of contributors'
set out "fontane_interwiki_contributors.png"
plot 'fontane_interwiki.tsv' using :3:xtic(1) title '' with boxes

set title 'number of revisions'
set out "fontane_interwiki_revisions.png"
plot 'fontane_interwiki.tsv' using :4:xtic(1) title '' with boxes

set title 'number of backlinks'
set out "fontane_interwiki_backlinks.png"
plot 'fontane_interwiki.tsv' using :9:xtic(1) title '' with boxes

set title 'date of first revision of page'
set out "fontane_interwiki_firstrev.png"
set ydata time
# 2002-05-13T13:59:54Z
set timefmt '%Y-%m-%dT%H:%M:%SZ'
plot 'fontane_interwiki.tsv' using :11:xtic(1) title '' with boxes

#+END_SRC

[[fontane_interwiki_backlinks.png]]

[[fontane_interwiki_contributors.png]]

[[fontane_interwiki_revisions.png]]

[[fontane_interwiki_textlen.png]]

[[fontane_interwiki_firstrev.png]]

** Articles of Fontane's works (German Wikipedia)

starting point: https://de.wikipedia.org/wiki/Kategorie:Werk_von_Theodor_Fontane

#+BEGIN_SRC sh
  python3 core_stable/pwb.py wiki.py --category "Kategorie:Werk_von_Theodor_Fontane" > fontane_werke.tsv
#+END_SRC

Plot some of the columns:

#+BEGIN_SRC gnuplot :results silent
  reset
  set datafile separator "\t"

  set grid
  set boxwidth 0.5
  set style fill solid
  set xtics rotate by 45 right

  set term png enhanced size 800,800 font "Arial,12" lw 2

  set title '(wiki markup) text length'
  set out "fontane_werke_textlen.png"
  plot 'fontane_werke.tsv' using :2:xtic(1) title '' with boxes

  set title 'number of contributors'
  set out "fontane_werke_contributors.png"
  plot 'fontane_werke.tsv' using :3:xtic(1) title '' with boxes

  set title 'number of revisions'
  set out "fontane_werke_revisions.png"
  plot 'fontane_werke.tsv' using :4:xtic(1) title '' with boxes

  set title 'number of backlinks'
  set out "fontane_werke_backlinks.png"
  plot 'fontane_werke.tsv' using :9:xtic(1) title '' with boxes

  set title 'date of first revision of page'
  set out "fontane_werke_firstrev.png"
  set ydata time
  # 2002-05-13T13:59:54Z
  set timefmt '%Y-%m-%dT%H:%M:%SZ'
  plot 'fontane_werke.tsv' using :11:xtic(1) title '' with boxes

#+END_SRC

[[fontane_werke_backlinks.png]]

[[fontane_werke_contributors.png]]

[[fontane_werke_revisions.png]]

[[fontane_werke_textlen.png]]

[[fontane_werke_firstrev.png]]

** Contemporaries of Fontane

Download the result of the SPARQL query https://w.wiki/48T as TSV file
file:contemporaries.tsv and 

#+BEGIN_SRC sh
  python3 core_stable/pwb.py wiki.py --file contemporaries.tsv > fontane_contemporaries.tsv
#+END_SRC

Plot some of the columns:

#+BEGIN_SRC gnuplot :results silent
  reset
  set datafile separator "\t"

  set grid
  set boxwidth 0.5
  set style fill solid
  set xtics rotate by 45 right

  set term png enhanced size 800,800 font "Arial,12" lw 2

  set title '(wiki markup) text length'
  set out "fontane_contemporaries_textlen.png"
  plot 'fontane_contemporaries.tsv' using :2:xtic(1) title '' with boxes

  set title 'number of contributors'
  set out "fontane_contemporaries_contributors.png"
  plot 'fontane_contemporaries.tsv' using :3:xtic(1) title '' with boxes

  set title 'number of revisions'
  set out "fontane_contemporaries_revisions.png"
  plot 'fontane_contemporaries.tsv' using :4:xtic(1) title '' with boxes

  set title 'number of backlinks'
  set out "fontane_contemporaries_backlinks.png"
  plot 'fontane_contemporaries.tsv' using :9:xtic(1) title '' with boxes

  set title 'date of first revision of page'
  set out "fontane_contemporaries_firstrev.png"
  set ydata time
  # 2002-05-13T13:59:54Z
  set timefmt '%Y-%m-%dT%H:%M:%SZ'
  plot 'fontane_contemporaries.tsv' using :11:xtic(1) title '' with boxes

#+END_SRC

[[fontane_contemporaries_backlinks.png]]

[[fontane_contemporaries_contributors.png]]

[[fontane_contemporaries_revisions.png]]

[[fontane_contemporaries_textlen.png]]

[[fontane_contemporaries_firstrev.png]]

* Ideen/Diskussion

- Fontane im Vergleich zu anderen Autoren des 19. Jahrhunderts (47
  WP-Einträge sind schon ne ganze Menge, finde ich)
  - einfache Anzahlen (Folie (?) mit Portraits, Zahlen, Sprachen?)

- Längen und Artikel-Tiefen der einzelnen Beiträge, um zu
  verdeutlichen, in welcher Sprache wirklich an einem guten Artikel
  gearbeitet wurde
  - meinst Du hier die Artikel der verschiedenen Autoren? Meinst Du
    mit "Tiefe" die Anzahl der Bearbeitungen oder die Komplexität der
    Überschriften-Struktur?

Kurze Frage noch: Kommt man per Wikidata auch an die Depth der
Artikelbearbeitungen ran über die API? Wüsste grad nicht wie.

- analog dazu Ranking der 17 Romane von Fontane
  - OK

- Gedichte von Fontane (welche haben WP-Artikel und in welchen
  Sprachen)
  - Wieviele gibt es da? Wie finden wir die alle?


In Sachen Gedichte bzw. Werke allgemein, das hier scheinen alle zu sein,
die auf Wikipedia eigene Artikel haben:
https://de.wikipedia.org/wiki/Kategorie:Werk_von_Theodor_Fontane


- in-links und out-links
  - OK. PageRank wäre teuer

Ansonsten stelle ich mir für einfache Wikidata-Fragen so was vor wie:
Ranke alle deutschen Autoren des 19. Jahrhunderts nach der Häufigkeit
der Artikel in verschiedenen Sprachen und zeige an, wo Fontane steht
usw. – Anhand der Ergebnisse ergeben sich dann fast von alleine neue
Fragen. Und da hangeln wir uns durch bis wir genug haben…

** Metriken
 Einige Ideen, welche Metriken wir verwenden könnten:
*** Wikidata
**** Anzahl Statements
*** Artikel
**** Länge
**** Bearbeitungen
**** Tiefe
**** In-Links
**** Out-Links
**** PageRank
*** Entität
**** Anzahl Artikel (WP-Sprachversionen)

